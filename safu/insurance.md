# Insurance mechanism

Astrolab's Crate insurance is funded by the $ASL staking yield.

$ASL staking pools earn a share of the performance fees generated by the underlying Crates. Each pool has a distinct risk level, allowing stakers to optimize their risk exposure. A share of staked tokens will be locked if a Crate experiences an unexpected loss. Associated performance fees will then be allocated to the affected crate, healing it over time.

Locked tokens are returned to their owners after the loss has been compensated, or after a predetermined period.

![insurance flow chart](/media/asl-insurance-flow.png)

---

Example: The ‘Aggressive’ $ASL staking pool insures CrateA, CrateB and CrateC. Kaneda has staked $50K of $ASL in the pool. The pool totals $1M of $ASL and earns $500K per year on average.

One of the strategies of CrateA experiences an unexpected loss. The Aave fork it was investing in had a faulty oracle resulting in a $100K loss of funds, representing 5% of the total assets managed by the Crate. The book value and market price for the Crate token immediately decrease by 5%.

50% of the pool's tokens are locked, and their associated performance fees are sent to CrateA. After 4 months and 24 days, $100K has been sent to the Crate. Now that the loss has been compensated, Kaneda can unlock all of his tokens.

---

Astrolab’s insurance mechanism protects the value of $ASL and safeguards the staker’s holdings by not auctioning governance tokens on the open market as Aave does. Because the affected Crate’s loss is compensated, its APR will increase, therefore making it more attractive to new users. Compensation isn’t done immediately, but the insurance mechanism is scalable as affected crates can be made whole again after an unexpected loss.

Events covered are the following:

- Oracle malfunctioning
- Bad debt on one the Crate's strategies
- Bug, or malfunction of the Crate or one of the Crate's strategies
- Theft of funds locked in the contract

Parameters used to compute the compensation schedule and eligible events are defined by governance. This ensures the balance between staking incentives and protocol de-risking.
